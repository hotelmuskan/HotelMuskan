<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hotel Muskan Mobile</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <style>
        :root {
            --gold: #d4af37;
            --bg: #050505;
            --card: #121212;
            --text: #e0e0e0;
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--bg); 
            color: var(--text); 
            margin: 0; 
            padding-bottom: 80px; /* Space for bottom nav */
            overflow-x: hidden;
        }

        /* Mobile Header */
        .header {
            background: var(--card);
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid rgba(212,175,55,0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header h1 { font-family: 'Playfair Display'; font-size: 22px; color: var(--gold); margin: 0; }
        .header p { font-size: 10px; margin: 5px 0 0; color: #888; letter-spacing: 1px; }

        /* Navigation Tabs */
        .tab-content { display: none; padding: 15px; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Bottom Nav Bar */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: #111;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            border-top: 1px solid #333;
            z-index: 1000;
        }
        .nav-item { text-align: center; color: #888; font-size: 11px; cursor: pointer; flex: 1; }
        .nav-item.active { color: var(--gold); }
        .nav-item i { display: block; font-size: 20px; margin-bottom: 3px; }

        /* Menu Grid - Highly Mobile Optimized */
        .menu-scroll { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 12px; 
        }
        .menu-card {
            background: var(--card);
            border: 1px solid #222;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
        }
        .menu-card .name { font-size: 13px; font-weight: 600; display: block; margin-bottom: 8px; height: 32px; overflow: hidden; }
        .menu-card .price { color: var(--gold); font-weight: bold; font-size: 15px; display: block; margin-bottom: 10px; }

        /* Portion Buttons */
        .p-btns { display: flex; gap: 5px; }
        .p-btns button { 
            flex: 1; 
            background: transparent; 
            border: 1px solid var(--gold); 
            color: var(--gold); 
            padding: 8px 0; 
            border-radius: 8px; 
            font-size: 10px; 
            font-weight: bold;
        }

        /* Invoice Style */
        .bill-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .bill-table th { text-align: left; font-size: 12px; color: var(--gold); padding: 10px; border-bottom: 1px solid #333; }
        .bill-table td { padding: 12px 10px; border-bottom: 1px solid #222; font-size: 14px; }

        .total-box { 
            background: var(--gold); 
            color: black; 
            padding: 20px; 
            border-radius: 15px; 
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .total-box b { font-size: 24px; font-family: 'Playfair Display'; }

        /* Inputs */
        .mobile-input {
            width: 100%;
            background: #1a1a1a;
            border: 1px solid #333;
            color: white;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }

        /* Actions */
        .action-btn {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            border: none;
            font-weight: bold;
            margin-top: 10px;
            font-size: 14px;
        }
        .btn-print { background: linear-gradient(45deg, #bf953f, #fcf6ba); color: black; }
        .btn-wa { background: #25D366; color: white; }

        #qrcode { background: white; padding: 10px; border-radius: 10px; margin: 20px auto; width: fit-content; }

        @media print {
            .bottom-nav, .header, .p-btns, .action-btn, .mobile-input, .nav-item { display: none !important; }
            body { background: white; color: black; padding: 0; }
            .tab-content { display: block !important; }
            #qrcode { display: block !important; }
        }
    </style>
</head>
<body>

<div class="header">
    <h1>HOTEL MUSKAN</h1>
    <p>A taste you'll remember | Bhagwanpur</p>
</div>

<div id="menu-tab" class="tab-content active">
    <div class="menu-scroll" id="menuItems"></div>
</div>

<div id="bill-tab" class="tab-content">
    <input type="text" id="cName" class="mobile-input" placeholder="Customer Name">
    <input type="number" id="cPhone" class="mobile-input" placeholder="WhatsApp Number">
    
    <table class="bill-table">
        <thead><tr><th>Item</th><th>Qty</th><th>Total</th></tr></thead>
        <tbody id="billBody"></tbody>
    </table>

    <div class="total-box">
        <span>Grand Total</span>
        <b id="grandTotal">‚Çπ0</b>
    </div>

    <div id="qrcode"></div>

    <button class="action-btn btn-print" onclick="completeSale()">Print Bill</button>
    <button class="action-btn btn-wa" onclick="sendWhatsApp()">WhatsApp Bill</button>
</div>

<div id="admin-tab" class="tab-content">
    <h3>Table Management</h3>
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;" id="tableGrid"></div>
    <hr style="border: 0.5px solid #333; margin: 20px 0;">
    <h3>Shift Summary</h3>
    <div class="total-box" style="background: #222; color: var(--gold); border: 1px solid var(--gold);">
        <span>Total Sales Today</span>
        <b id="shiftTotal">‚Çπ0</b>
    </div>
</div>

<div class="bottom-nav">
    <div class="nav-item active" onclick="switchTab('menu', this)"><span>üçΩÔ∏è</span>Menu</div>
    <div class="nav-item" onclick="switchTab('bill', this)"><span>üìÑ</span>Bill</div>
    <div class="nav-item" onclick="switchTab('admin', this)"><span>‚öôÔ∏è</span>Admin</div>
</div>

<script>
    const upiID = "ajaykumar2569563@ybl";
    let salesTotal = 0;
    let currentTable = 1;
    let tables = {1:{items:[]}, 2:{items:[]}, 3:{items:[]}, 4:{items:[]}, 5:{items:[]}, 6:{items:[]}};

    const menu = [
"ü´ì Breads": [
            { name: "Plain Roti", price: 7}, { name: "Butter Roti", price: 10},
            { name: "Tandoori Roti", price: 10 }, { name: "Plain Naan", price: 25 },
            { name: "Butter Naan", price: 30 }, { name: "Garlic Naan", price: 40 }
        ],
        "üçö Rice & Biryani": [
            { name: "Plain Rice", price: 70, half: 40 }, { name: "Jeera Rice", price: 70, half: 40 },
            { name: "Veg Biryani", price: 120, half: 70 }, { name: "Chicken Biryani", price: 160, half: 90 },
            { name: "Mutton Biryani", price: 220, half: 120 }
        ],
        "ü•¶ Veg Main": [
            { name: "Dal Fry", price: 140, half: 70 }, { name: "Dal Tadka", price: 140, half: 70 },
            { name: "Paneer Butter Masala", price: 240, half: 120 }, { name: "Mix Veg", price: 160, half: 80 }
        ],
        "üçó Non-Veg Main": [
            { name: "Chicken Curry", price: 180, half: 90 }, { name: "Chicken Butter Masala", price: 240, half: 120 },
            { name: "Mutton Curry", price: 280, half: 140 }
        ],
        "üçü Starters": [
            { name: "Veg Manchurian", price: 120, half: 70 }, { name: "Chicken Chilli", price: 240, half: 120 }
        ],
        "ü•§ Beverages": [
            { name: "Mineral Water", price: 20 }, { name: "Tea", price: 10 }, { name: "Cold Drink", price: 40 }
    ];

    function init() {
        const container = document.getElementById('menuItems');
        menu.forEach(item => {
            let btns = item.half 
                ? `<div class="p-btns"><button onclick="add('${item.name} (H)', ${item.half})">HALF</button><button onclick="add('${item.name} (F)', ${item.price})">FULL</button></div>`
                : `<div class="p-btns"><button style="width:100%" onclick="add('${item.name}', ${item.price})">ADD</button></div>`;
            container.innerHTML += `<div class="menu-card"><span class="name">${item.name}</span><span class="price">‚Çπ${item.price}</span>${btns}</div>`;
        });
        updateTables();
    }

    function switchTab(tab, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(tab + '-tab').classList.add('active');
        el.classList.add('active');
    }

    function add(name, price) {
        let items = tables[currentTable].items;
        let exist = items.find(i => i.name === name);
        if(exist) exist.qty++; else items.push({name, price, qty: 1});
        updateBill();
    }

    function updateBill() {
        const body = document.getElementById('billBody');
        body.innerHTML = '';
        let total = 0;
        tables[currentTable].items.forEach(i => {
            total += i.price * i.qty;
            body.innerHTML += `<tr><td>${i.name}</td><td>${i.qty}</td><td>‚Çπ${i.price * i.qty}</td></tr>`;
        });
        document.getElementById('grandTotal').innerText = '‚Çπ' + total;
        document.getElementById('grandTotal').innerText = '‚Çπ' + total;
        
        const qrDiv = document.getElementById("qrcode");
        qrDiv.innerHTML = "";
        if(total > 0) new QRCode(qrDiv, {text: `upi://pay?pa=${upiID}&am=${total}&cu=INR`, width: 130, height: 130});
    }

    function updateTables() {
        const grid = document.getElementById('tableGrid');
        grid.innerHTML = '';
        for(let i in tables) {
            grid.innerHTML += `<div onclick="selT(${i})" style="padding:15px; background:${i==currentTable?'var(--gold)':'#1a1a1a'}; color:${i==currentTable?'black':'white'}; border-radius:10px; text-align:center; font-weight:bold;">T-${i}</div>`;
        }
    }

    function selT(i) { currentTable = i; updateTables(); updateBill(); switchTab('menu', document.querySelectorAll('.nav-item')[0]); }

    function sendWhatsApp() {
        const phone = document.getElementById('cPhone').value;
        if(!phone) return alert("Enter Number");
        let text = `*HOTEL MUSKAN*%0A------------------%0A`;
        tables[currentTable].items.forEach(i => text += `${i.name} x ${i.qty} = ‚Çπ${i.price*i.qty}%0A`);
        text += `------------------%0A*Total: ${document.getElementById('grandTotal').innerText}*%0A_Visit Again!_`;
        window.open(`https://wa.me/91${phone}?text=${text}`);
    }

    function completeSale() {
        salesTotal += parseInt(document.getElementById('grandTotal').innerText.replace('‚Çπ',''));
        document.getElementById('shiftTotal').innerText = '‚Çπ' + salesTotal;
        window.print();
        tables[currentTable].items = [];
        updateBill();
    }

    init();
</script>
</body>
</html>
